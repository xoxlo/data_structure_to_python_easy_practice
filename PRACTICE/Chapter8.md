# CHAPTER 8 트리

- 트리 : 계층적인 자료의 표현에 적합한 자료구조
- 탐색 트리(BST), 우선순위 큐를 위한 힙 트리(HEAP), 인공지능 문제에서 다루는 결정트리
- Node와 Edge로 구성된 데이터 구조
- 최대 힙, 최소 힙, 우선 순위 큐

# 트리 용어
- 단말노드 : 자식 노드가 없는 노드
- 비단말노드 : 자식 노드가 있느 노드
- 노드의 차수 : 어떤 노드가 가지고 있는 자식의 수
- 트리의 차수 : 트리가 가지고 있는 노드의 차수 중에서 가장 큰 차수
- 레벨 : 루트의 레벨은 1, 한 층씩 내려갈수록 1씩 증가
- 트리의 높이 : 트리가 가지고 있는 최대 레벨
- 포레스트 : 트리들의 집합

## 일반트리
- 연결된 구조에서의 노드 형태로 표현
- 데이터 필드와 자식 노드를 가리키는 여러 개의 링크를 갖는다.
- 단점 : 표현 복잡, 성능 안좋음

## 이진트리
- 자식 노드의 개수가 항상 2개 이하인 트리
- 모든 노드가 2개의 서브트리를 갖는 트리
- 공집합, 루트와 왼쪽 서브트리, 오른쪽 서브트리로 구성된 노드들의 집합, 이진트리의 서브트리들은 모두 이진트리이어야함

## 포화이진트리
- 트리의 각 레벨에 노드가 꽉 차있는 이진트리
- 전체 노드의 개수 : 2^k-1
- 각 노드에 순서대로 번호를 붙일 수 있음

## 완전이진트리
- 높이가 k인 트리에서 레벨 1부터 k-1까지는 노드가 모두 채워져 있고 마지막 레벨 k에서는 왼쪽부터 오른쪽으로 노드가 순서대로 채워져 있는 이진트리
- 중간에 빈 곳이 있으면 안됨, 마지박 레벨은 꽉 차 있지 않아도 됨.
- 예시 : 힙(heap)

## 편향이진트리
- 높이가 k인 트리에서 k+1개의 노드를 가지면서 모든 노드가 왼쪽이나 오른쪽 중 한 방향으로만 서브 트리를 가지고 있는 트리

# 이진트리의 표현 방법 : 배열 표현법
- 배열로 표현 -> 인덱스 사용
- 포화이진트리나 완전이진트리에 가장 적합
- 단점 : 트리가 불균형? 메모리 낭비가 심함. -> 빈 칸이 많이 발생할 수 있음.
- 단점 : 기억공간의 낭비, 표현할 수 있는 높이가 배열의 크기에 따라 제한
- 노드 i의 부모 노드 인덱스 = i / 2
- 노드 i의 왼쪽 자식 노드 인덱스 = 2i
- 노드 i의 오른쪽 자식 노드 인덱스 = 2i + 1

# 이진트리의 표현 방법 : 링크 표현법
- 두 개의 링크 필드 필요, 좌우 링크가 반드시 구별


# 이진트리의 연산
- 순회(traversal) : 전위순회(VLR), 중위순회(LVR), 후위순회(LRV)
- 트리에서는 순환 기법 많이 사용

## 전위순회(VLR)
- 루트노드(V) -> 왼쪽 서브 트리(L) -> 오른쪽 서브 트리(R)

## 중위순회(LVR)
- 왼쪽 서브 트리(L) -> 루트노드(V) -> 오른쪽 서브 트리(R)

## 후위순회(LRV)
- 왼쪽 서브 트리(L) -> 오른쪽 서브 트리(R) -> 루트노드(V)

## 레벨순회(level order)
- 노드를 레벨 순으로 검사
- 큐를 사용해 구현
- 순환 사용 X
- 최초의 큐에는 루트노드를 enqueue -> 큐가 공백상태가 아닌 동안 -> 큐에서 맨 앞의 노드 n을 꺼냄 -> 자식 노드를 순서대로 enqueue -> 다시 2번쨰로 이동

## 전체 노드 개수 구하기
- 모든 노드들을 한번 씩 방문 -> 순환 사용
- 1 + 왼쪽 서브 트리의 노드 수 + 오른쪽 서브 트리의 노드 수
- 후위 순회 방식 -> 순환 호출

## 전체 단말 노드 개수 구하기
- 왼쪽 자식과 오른쪽 자식 모두 None인 노드
- 두 서브 트리의 단말 노드 개수 계산


# 결정트리
- 여러단계의 복잡한 조건을 갖는 문제에 대해 조건과 그에 따른 해결방법을 트리 형태로 나타낸것
- 시간복잡도 O(logn) -> 트리의 높이에 비례

# 힙 트리
- 힙은 여러 개의 값들 중에서 가장 큰(또는 작은)값을 빠르게 찾아내도록 만들어진 자료구조
- 최대 힙 or 최소 힙
- 힙은 보통 배열응 이용하여 구현, 힙을 저장하는 효과적인 자료구조

- 최대 힙 -> 부모 노드의 키 값이 자식 노드의 키 값보다 크거나 같은 완전이진트리
- 최소 힙 -> 부모 노드의 키 값이 자식 노드의 키 값보다 작거나 같은 완전이진트리

- 트리의 형태적 특성 반드시 유지 ( 완전 이진 트리 )

## 삽입 연산
- 시프트업(sift-up) or 업힙(up-heap)
- 힙의 마지막 노드의 다음 위치에 삽입

## 삭제 연산
- 시프트다운(sift-down) or 다운힙(down-heap)
- 힙의 루트 노드를 꺼내는 것

### 우선순위 큐의 가장 좋은 구현 방법은 힙
### 힙을 저장하는 효과적인 자료구조는 배열

# 허프만 코드
- 모든 가변 길이가 다른 코드의 첫 부분이 아니어야함.
- 가장 작은거 두개 더해서 루트를 만듦